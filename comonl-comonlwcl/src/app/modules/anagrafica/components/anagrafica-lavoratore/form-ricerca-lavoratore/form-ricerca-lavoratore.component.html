<!--
SPDX-FileCopyrightText: Copyright 2019 - 2022 | Regione Piemonte
SPDX-License-Identifier: EUPL-1.2-or-later
-->
<p>{{"APP.OBLIGATORIETA_CAMPI" | translate}}<span class="oblg">*</span> sono obbligatori</p>
<form [formGroup]="formRicercaLavoratore" *ngIf="showForm">
  <div class="row">
    <div class="form-group col-sm-12 col-md-3">
      <label for="cfLavoratore">{{ "COMUNICAZIONE.DETTAGLIO.FIELD.CF" | translate}} <span
          class="asterisk">*</span></label>
      <input type="text"
        class="form-control"
        oninput="this.value = this.value.toUpperCase().trim()"
        formControlName="cfLavoratore"
        id="cfLavoratore" >
      <div *ngIf="f?.cfLavoratore?.errors" class="text-danger">
        <div *ngIf="f?.cfLavoratore?.errors?.minlength">{{"ERROR.FIELD.MIN_LENGHT_11" | translate}}</div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="form-group col-sm-12 col-md-3">
      <label for="cognome">{{ "COMUNICAZIONE.DETTAGLIO.FIELD.COGNOME" | translate}}</label>
      <input type="text"
      class="form-control"
      formControlName="cognome"
      id="cognome"
      maxlength="50">
      <div *ngIf="f?.cognome?.errors" class="text-danger">
        <div *ngIf="f?.cognome?.errors?.minlength">{{"ERROR.FIELD.MIN_LENGHT_3" | translate}}</div>
      </div>
    </div>
    <div class="form-group col-sm-12 col-md-3">
      <label for="nome">{{ "COMUNICAZIONE.DETTAGLIO.FIELD.NOME" | translate}}</label>
      <input type="text"
      class="form-control"
      formControlName="nome"
      id="nome">
      <div *ngIf="f?.nome?.errors" class="text-danger">
        <div *ngIf="f?.nome?.errors?.minlength">{{"ERROR.FIELD.MIN_LENGHT_3" | translate}}</div>
      </div>
    </div>
  </div>
</form>
<div class="row">
  <div class="col">
    <button type="button" class="btn btn-outline-secondary btn-sm" (click)="onClickReset()">{{ 'APP.REMOVE_FILTERS' |
      translate | uppercase}}</button>
  </div>
  <div class="col-auto">
    <button type="button" class="btn btn-primary ml-auto btn-lg" (click)="onSubmit()"
      [disabled]="!formRicercaLavoratore?.valid">{{ 'APP.SEARCH' | translate }}</button>
  </div>
</div>
<div *ngIf="showTable && this.lavoratoreSilpEspanso" class="mt-4">
  <table class="table table-responsive table-striped">
    <thead>
      <th>Codice fiscale</th>
      <th>Cognome</th>
      <th>Nome</th>
      <th>Azioni</th>
    </thead>
    <tbody>
      <tr>
        <td>{{this.lavoratoreSilpEspanso?.id?.codiceFiscale | uppercase}}</td>
        <td>{{this.lavoratoreSilpEspanso?.cognome | uppercase}}</td>
        <td>{{this.lavoratoreSilpEspanso?.nome | uppercase}}</td>
        <td class="azioni">
          <a><i class="fas fa-eye mr-2" (click)="goToAnagrafica('visualizza')" title="Visualizza"></i></a>
          <a><i class="fas fa-edit ml-2 mr-2" (click)="goToAnagrafica('modifica')" title="Modifica"></i></a>
          <a><i *ngIf="wrapperHelper" class="fas fa-check-double ml-2" (click)="goBackNavmain()"></i></a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
