<!--
SPDX-FileCopyrightText: Copyright 2019 - 2022 | CSI Piemonte
SPDX-License-Identifier: EUPL-1.2
-->
<em data-scroll-marker="proroga"></em>
<div class="container">
    <h2><i style="color: #005ca9;" class="fas fa-edit mr-2"></i>{{"DATI_PROROGA.TITLE" | translate}}</h2>
    <comonl-alert-message></comonl-alert-message>
    <div class="card">
        <div class="card-body">
            <p>{{"APP.OBLIGATORIETA_CAMPI" | translate}}<span class="oblg">*</span> sono obbligatori</p>
            <form *ngIf="form" [formGroup]="form">
                <div class="row">
                    <div class="form-group col-sm-12 col-md-3">
                        <label>{{ "DATI_PROROGA.FIELD.DATA_PROROGA"| translate}} <span class="oblg" title="campo obbligatorio">*</span></label>
                    </div>
                    <div class="form-group col-sm-12 col-md-3">
                        <div class="form-group">
                          <div class="input-group">
                            <input type="text"
                              class="form-control"
                              formControlName="dtFineProroga"
                              id="dtFineProroga"
                              ngbDatepicker
                              #dtFineProroga="ngbDatepicker"
                              maxlength="10">
                            <div class="input-group-append">
                              <button
                                [disabled]="VIEW_MODE || ANNULLO_MODE"
                                class="btn btn-outline-primary calendar"
                                (click)="dtFineProroga.toggle()"
                                type="button">
                                <span class="sr-only">{{"APP.DATE_PICKER.APRI_CALENADRIO" | translate}}</span><i class="far fa-calendar-alt fa-lg"></i></button>
                            </div>
                          </div>
                          <div *ngIf="f?.dtFineProroga?.invalid && f?.dtFineProroga?.value?.length > 0" class="text-danger">
                            {{'ERROR.INVALID_DATE' | translate}}
                          </div> 
                        </div>
                      </div>
                </div>
                <div *ngIf="!this.VIEW_MODE" class="row"> <!-- *ngIf="!(this.VIEW_MODE || this.ANNULLO_MODE)" -->
                  <div class="col-auto">
                      <button 
                      (click)="onClickReset()"
                      type="button" 
                      class="btn btn-outline-secondary btn-sm"
                      >{{ 'APP.ANNULLA' | translate | uppercase}}</button>
                    </div>
                  <div class="col-auto ml-auto">
                    <button type="button"
                      class="btn btn-primary ml-auto btn-lg"
                      (click)="onSubmit()"
                      [disabled]="!form?.valid && !ANNULLO_MODE"
                      >{{ 'TUTORE.BUTTON.CONFIRM' | translate }}</button>
                  </div>
              </div>
            </form>
        </div>
    </div>
</div>
